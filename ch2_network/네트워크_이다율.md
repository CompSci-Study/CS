## 네트워크
네트워크 : 노드(서버, 라우터, 스위치)와 링크(유선, 무선)가 서로 연결. 리소스 공유 

### 처리량과 지연시간
>처리량 

정의 : 성공적으로 전달된 데이터양 <br> 
영향 : 커지는 트레픽(처리되는 데이터), 네트워크 대역폭(주어진 시간 동안 흐를 수있는 최대 비트수), 네트워크 에러, 하드웨어 스펙 

>지연시간 

정의 : 요청이 왕복하며 처리되는데 걸린 시간  <br>
영향 : 유선, 무선, 패킷 크기, 라우터 패킷 

### 네트워크 토폴로지와 병목현상 
> 네트워크 토폴로지 

- 트리 토폴로지 : 계층형 구조 <br>
   장점) 노드 추가 삭제 쉬움  <br>
   단점) 트래픽에 커짐 -> 하위 노드 영향 

- 버스 토폴로지 : 회선하나에 여러 개의 노드가 달린 형태  <br>
   장점) 노드 추가 삭제 쉬움, 적은 설치비용, 신뢰성 ++ <br>
   단점) **스푸핑** : 스위치 기능을 마비, 속여서 패킷을 다른 호스트로 보냄

- 스타 토폴로지 : 중앙에 모든 노드가 연결된 형태 <br>
   장점) 노드 추가와 에러탐지 쉬움, 패킷 충돌 가능성-- <br>
   단점) 중앙 노드에 에러 발생 -> 전체 네트워크 마비, 많은 설치비용용

- 링형 토폴로지 : 하나의 연속된 경로에 연결된 형태 <br>
   장점) 노드수 증가 -> 네트워크 손실 X, 충돌 가능성--, 노드 고장발견 쉬움 <br>
   단점) 어려운 구성변경, 회선 장애 -> 전체 네트워크 영향 

- 메시 토폴로지 : 그물망 형태  <br>
   장점) 특정 장치에 장애 발생 -> 네트워크 계속 사용 가능, 트래픽 분산처리 <br>
   단점) 노드 추가 어려움, 고가의 구축, 운용 비용 


> 병목현상 

전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상 
**해결방안**) 어떤 토폴로지, 어떤 경로로 이루어져 있는지 알아야 해결 


### 네트워크 분류 
- LAN : 근거리 (건물)
- MAN : 대도시
- WAN : 국가, 대륙 

### 네트워크 성능 분석 명령어 
- ping : 패킷을 전송하는 명령어, 상태, 시간을 설정하여 연결확인
- netstat : 포트가 열린지 확인
- nslookup : DNS 내용 확인, 매핑된 IP확인
- tracert : 네트워크 경로 확인 

### 네트워크 프로토콜 표준화 
데이터 송수신을 위해 설정된 공통된 인터페이스 


## TCP / IP 4계층 모델 

### 계층구조 

> 애플리케이션 계층 

FTP, HTTP, SSH, SMTP, DNS 등 응용 프로그램이 사용되는 프로토콜 계층, 실질적 서비스 제공 

> 전송 계층

송수신자를 연결하는 통신 서비스 제공, 애플리케이션 계층과 인터넷 계층 사이의 데이터 중계역할  <BR>
EX. TCP, UDP  <BR>
TCP : 패킷 순서보장, 수신 여부 확인 -> 신뢰성 있음  <BR>
UDP : 순서보장 X, 수신 여부 확인 X -> 신뢰성 X, 단순히 데이터만 주고 받음  

- 가상회선 패킷 교환 (TCP) : 순서대로 패킷 도착, 신뢰서 있음

- 데이터그램 패킷 교환 (UDP) : 패킷 최적 경로 따라 전송 -> 순서다름, 신뢰성 없음 

- TCP 연결 설립 과정 : 3-way-handshake

- TCP 연결 해제 과정 : 4-way-handshake
   - TIME_WAIT : why? 지연패킷 발생 가능성, 장치연결 상태 확인 
   - 데이터 무결성 : 데이터의 정확성과 일관성을 유지, 보증 
 
 

> 인터넷 계층

IP, ARP, ICMP, 목적지 주소를 지정하여 데이터 전달, 수신 보장 X -> 비연결적 특징 

> 링크 계층 

전선, 광섬유, 무선등으로 실질적으로 데이터 전달, 네트워크 접근 계층이라고도 함

- 유선 LAN
   - 전이중화 통신 : 양쪽장치 동시에 송수신, 충돌가능성 없음
   - CSMA/CD(반이중화 통신) : 충돌 가능성 있음 -> 일정 시간 후 재전송, 한 경로 기반  

- 유선 LAN을 이루는 케이블 
   - 트위스트 페어 케이블 : 보편적인 UTP(LAN) 케이블 
   - 광섬유케이블 : 장거리 및 고속통신 

- 무선 LAN 
   - 반이중화 통신 : 한 번에 한 방향, 충돌 가능성 있음 -> 방지 시스템 필요 
   - CSMA/CA : 충돌 방지 시스템 

- 무선 LAN을 이루는 주파수 : 무선 신호 전달방식 사용 2대 이상의 장치 연결 
   - 와이파이 : 전자기기가 무선 LAN신호에 연결하게 해주는 기능
   - BSS : 기본 서비스 집합, AP장치들이 서로 통신 가능한 구조, 이동하며 접속 불가능 
   - ESS : 하나 이상의 연결된 BSS 그룹, 장거리 무선 통신 제공, 이동하며 중단없이 접속 가능  

- 이더넷 프레임 : 데이터의 에러검출, 캡슐화 

> 계층간 데이터 송수신 과정

송신 요청 : 애플리케이션 -> 링크 (캡슐화)
수신 처리 : 링크 -> 애플리케이션 (비캡슐화화)

- 캡슐화 과정 : 상위 계층의 헤더와 데이터 -> 하위계층 데이터 포함, 헤더 삽입  <BR>
데이터 -> 세그먼트, 데이터그램 -> 패킷 -> 캡슐화 데이터 

- 비캡슐화 과정 : 하위 계층의 헤더 제거 -> 애플리케이션 PDU인 메세지로 전달  <BR>
캡슐화 데이터 -> 패킷 -> 세그먼트, 데이터그램 -> 메세지 

### PDU 
계층간 이동 시 데이터가 전달될 때 한 덩어리 단위 
제어 정보들이 포함된 '헤더' + 데이터를 의미하는 '페이로드' 구성 


## 네트워크 기기 
### 네트워크 기기의 처리 범위 
상위계층은 하위계층을 처리할 수 있지만 반대는 불가능 

### 애플리케이션 계층을 처리하는 기기 
> L7 스위치 

로드밸런서, 서버 부하 분산, 트래픽 처리량 증가 목표 <BR>
메세지 기반 트래픽 분산, 필터링, 모니터링 가능 <BR>
장애 발생 시 -> 헬스체크 <BR>

- L7와 L4의 차이 : L4 전송 계층을 처리하는 기기, IP와 포트 기반 트래픽 분산

- 헬스 체크 : 전송주기와 재전송 횟수 설정 후 반복적으로 서버 요청 

- 로드밸런서를 이용한 서버 이중화 : 2대 이상의 서버기반 -> 가상 IP 제공: 안정적 서비스 

### 인터넷 계층을 처리하는 기기 
- 라우터 : 여러 개의 네트워크를 연결, 분할, 구분, 패킷 소모 최소화, 경로 최적화해서 최소 경로로 포워딩

- L3 스위치 : L2 스위치 + 라우터(소프트웨어 + **하드웨어**)

### 데이터 링크 계층을 처리하는 기기
- L2 스위치 : MAX 주소 테이블을 통한 MAC 주소 관리, 패킷 전성 담당

- 브리지 : 두 개의 근거리 통신망 LAN을 서로 접속할 수 있게하는 연결장치, 포트사이의 다리 역할, 범위 확장, 통신망 구축에 사용 

### 물리 계층을 처리하는 기기 
- NIC
- 리피터
- AP : 패킷을 복사하는 기기 

## IP 주소 
### ARP
> 브로드 캐스트 

모든 호스트로 전송

> 유니 캐스트 

1:1 전송 

### 홉바이홉
라우팅 : IP 주소를 통해 통신 (패킷 전달)
> 라우팅 케이블

목적지 정보와 방법이 들어있는 리스트 

> 게이트 웨이 

통신을 가능하게 하는 관문역할, 서로 다른 네트워크 통신 프로토콜 변환 

### IP 주소 체계
IPv4 : 보편적으로 많이 사용, 32비트 -> 8비트, 많을 수록 감당X
IPv6 : 64비트 -> 16비트 
> 클래스 기반 할당방식 

5개 클래스 구분 (네트워크 주소(네트워크 + 브로드캐스트)) + 호스트 주소) <BR>
단점) 버리는 주소 많음 -> 보완) DHCP, IPv6, NAT

> DHCP

IP주소, 기타 통신 매개변소 자동할당 (라우터, 게이트웨이이)

> NAT

IP주소를 다른 주소로 매핑 

- 공유기와 NAT : 여러 대의 호스트(공유기)가 하나의 IP 주소를 사용하여 인터넷 접속

- NAT를 이용한 보안 : 내부 IP 주소 =/= 외부 IP 주소 

- NAT 일정 : 많은 호스트 -> 속도 저하

### IP 주소를 이용한 위치 정보 
